---
// src/pages/index.astro
import MainLayout from '../layouts/MainLayout.astro';
---

<MainLayout title="Home">
  
  <section class="hero-container">
    <img 
      src="/Screenshot 2025-11-14 at 13.13.17.png" 
      alt="Macoy Gehrke" 
      class="profile-pic" 
    />
    <h1 class="name">macoy gehrke</h1>
    <a href="/MacoyG.pdf" class="hire-button" target="_blank" rel="noopener noreferrer">
      <!-- This container uses position:relative to stack the dots -->
      <span class="live-indicator">
        <!-- This is the expanding, fading "ping" ring -->
        <span class="ping-animation"></span>
        <!-- This is the solid green dot on top -->
        <span class="solid-dot"></span>
      </span>
      <span>hire me</span>
    </a>
  </section>

  <section class="home-section">
    <h2>About</h2>
    <p>
      I've spent 4 years teaching myself programming & software engineering. Then in 2024 I started my masters in cybersecurity in 2024. I'm always using my downtime to learn new things and build new projects. Shoot me a message on LinkedIn and let's chat.
    </p>
    <a href="/about" class="more-link">More about me &rarr;</a>
  </section>

  <section class="home-section">
    <h2>Recent Posts</h2>
    <div class="post-list">
      <article class="post-item">
        <a href="/blog/api-testing-deep-dive" class="post-link">
          <span class="post-title">API Testing Deep Dive</span>
          <time class="post-date">Nov 14, 2025</time>
        </a>
      </article>
      <article class="post-item">
        <a href="/blog/project-2" class="post-link">
          <span class="post-title">Deconstructing a [Vulnerability]</span>
          <time class="post-date">Oct 30, 2025</time>
        </a>
      </article>
      <article class="post-item">
        <a href="/blog/project-1" class="post-link">
          <span class="post-title">My Top 5 Tools for Pentesting</span>
          <time class="post-date">Sep 15, 2025</time>
        </a>
      </article>
    </div>
    <a href="/blog" class="more-link">More posts &rarr;</a>
  </section>

</MainLayout>

<style>
  /* --- Hero Section Styles --- */
  .hero-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    padding-bottom: 3rem;
    border-bottom: 1px solid var(--border-color);
    margin-bottom: 4rem;
  }

  .profile-pic {
    width: 150px;
    height: 150px;
    border-radius: 50%;
    border: 2px solid var(--border-color);
    margin-bottom: 2rem;
    object-fit: cover;
  }

  .name {
    font-size: 2.5rem;
    color: var(--heading-color);
    margin-bottom: 2rem;
    text-transform: lowercase;
  }

  .hire-button {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 0.75rem 1.75rem;
    background-color: #6B6B6B;
    color: var(--heading-color);
    border-radius: 8px;
    text-decoration: none;
    font-family: var(--font-sans);
    font-weight: 600;
    font-size: 1rem;
    text-transform: lowercase;
    transition: all 0.2s ease;
  }

  .hire-button:hover {
    opacity: 0.85;
  }

  
  /* --- NEW "Ping" Animation Styles --- */
  .live-indicator {
    display: flex; /* This is the "flex" part of inline-flex */
    position: relative; /* This is the anchor for the absolute-positioned ping */
    width: 10px;
    height: 10px;
    margin-right: 12px;
  }

  .ping-animation {
    position: absolute;
    width: 100%;
    height: 100%;
    background-color: #22C55E;
    border-radius: 50%;
    /* This is the animation! */
    animation: ping 1.5s cubic-bezier(0, 0, 0.2, 1) infinite;
  }

  .solid-dot {
    position: relative; /* Sits on top of the ping */
    width: 10px;
    height: 10px;
    background-color: #22C55E;
    border-radius: 50%;
  }

  
  /* This is the @keyframes animation that "ping" refers to */
  @keyframes ping {
    75%, 100% {
      transform: scale(2.5);
      opacity: 0;
    }
  }

  /* --- Section Styles (About/Posts) --- */
  .home-section {
    margin-bottom: 4rem;
  }

  .home-section h2 {
    font-size: 1.75rem;
    font-weight: 600;
    margin-bottom: 2rem;
    border-bottom: 1px solid var(--border-color);
    padding-bottom: 0.75rem;
  }

  .more-link {
    font-family: var(--font-sans);
    font-weight: 600;
    color: var(--heading-color);
    text-decoration: none;
    font-size: 0.9rem;
  }

  .more-link:hover {
    text-decoration: underline;
  }

  
  /* --- Post List Styles --- */
  .post-list {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    margin-bottom: 2rem;
  }

  .post-item {
    font-family: var(--font-sans);
  }

  .post-link {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0.75rem 0.25rem;
    border-radius: 4px;
    text-decoration: none;
    color: var(--text-color);
    transition: all 0.2s ease;
  }

  .post-link:hover {
    background-color: #272727;
    color: var(--heading-color);
  }

  .post-title {
    font-weight: 500;
  }

  .post-date {
    font-size: 0.9rem;
    color: #A1A1A1;
    font-feature-settings: 'tnum'; /* Aligns numbers */
  }
</style>
